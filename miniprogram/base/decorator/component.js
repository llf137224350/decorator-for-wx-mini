"use strict";
var __spreadArrays = (this && this.__spreadArrays) || function () {
    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;
    for (var r = Array(s), k = 0, i = 0; i < il; i++)
        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)
            r[k] = a[j];
    return r;
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.PageLifetimes = exports.Lifetimes = exports.Observers = exports.Method = exports.Data = exports.Prop = exports.Behaviors = exports.ExternalClasses = exports.Component = void 0;
function Components(Target) {
    var target = new Target();
    target.__proto__.__proto__._init.call(target);
    Component(target);
}
exports.Component = Components;
function Prop(target, propertyKey) {
    if (!target.properties) {
        target['properties'] = {};
    }
    target.properties[propertyKey] = {
        type: Object,
        value: null
    };
}
exports.Prop = Prop;
function Data(target, propertyKey) {
    if (!target.data) {
        target['data'] = {};
    }
    target.data[propertyKey] = null;
}
exports.Data = Data;
function Method(target, propertyKey) {
    if (!target.methods) {
        target['methods'] = {};
    }
    target.methods[propertyKey] = target[propertyKey];
}
exports.Method = Method;
function ExternalClasses(target, propertyKey) {
    if (!target.externalClasses) {
        target['externalClasses'] = [];
    }
    target.externalClasses = __spreadArrays(target.externalClasses, [propertyKey]);
}
exports.ExternalClasses = ExternalClasses;
function Behaviors(target, propertyKey) {
    if (!target.behaviors) {
        target['behaviors'] = [];
    }
    target.behaviors = __spreadArrays(target.behaviors, [propertyKey]);
}
exports.Behaviors = Behaviors;
function Observers(monitoredObject) {
    return function (target, propertyKey) {
        if (!target.observers) {
            target['observers'] = {};
        }
        target.observers[monitoredObject] = target[propertyKey];
    };
}
exports.Observers = Observers;
function Lifetimes(target, propertyKey) {
    if (!target.lifetimes) {
        target['lifetimes'] = {};
    }
    if (propertyKey === 'created') {
        var createdStr = target.created.toString();
        if (createdStr && createdStr.indexOf('Object.keys(this.data)') === -1 && createdStr.indexOf('_super.prototype.created.call(this)') === -1) {
            throw new Error('子类复写@Lifetimes public created()方式时，必须调用super.created();方法');
        }
    }
    target.lifetimes[propertyKey] = target[propertyKey];
}
exports.Lifetimes = Lifetimes;
function PageLifetimes(target, propertyKey) {
    if (!target.pageLifetimes) {
        target['pageLifetimes'] = {};
    }
    target.pageLifetimes[propertyKey] = target[propertyKey];
}
exports.PageLifetimes = PageLifetimes;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiY29tcG9uZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFZQSxTQUFTLFVBQVUsQ0FBQyxNQUFXO0lBQzdCLElBQU0sTUFBTSxHQUFHLElBQUksTUFBTSxFQUFFLENBQUM7SUFFNUIsTUFBTSxDQUFDLFNBQVMsQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQztJQUM5QyxTQUFTLENBQUMsTUFBTSxDQUFDLENBQUM7QUFDcEIsQ0FBQztBQTRHc0IsK0JBQVM7QUFyR2hDLFNBQVMsSUFBSSxDQUFDLE1BQVcsRUFBRSxXQUFtQjtJQUM1QyxJQUFJLENBQUMsTUFBTSxDQUFDLFVBQVUsRUFBRTtRQUN0QixNQUFNLENBQUMsWUFBWSxDQUFDLEdBQUcsRUFBRSxDQUFDO0tBQzNCO0lBQ0QsTUFBTSxDQUFDLFVBQVUsQ0FBQyxXQUFXLENBQUMsR0FBRztRQUMvQixJQUFJLEVBQUUsTUFBTTtRQUNaLEtBQUssRUFBRSxJQUFJO0tBQ1osQ0FBQztBQUNKLENBQUM7QUE2RjZELG9CQUFJO0FBdEZsRSxTQUFTLElBQUksQ0FBQyxNQUFXLEVBQUUsV0FBbUI7SUFDNUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLEVBQUU7UUFDaEIsTUFBTSxDQUFDLE1BQU0sQ0FBQyxHQUFHLEVBQUUsQ0FBQztLQUNyQjtJQUNELE1BQU0sQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLEdBQUcsSUFBSSxDQUFDO0FBQ2xDLENBQUM7QUFpRm1FLG9CQUFJO0FBMUV4RSxTQUFTLE1BQU0sQ0FBQyxNQUFXLEVBQUUsV0FBbUI7SUFDOUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxPQUFPLEVBQUU7UUFDbkIsTUFBTSxDQUFDLFNBQVMsQ0FBQyxHQUFHLEVBQUUsQ0FBQztLQUN4QjtJQUNELE1BQU0sQ0FBQyxPQUFPLENBQUMsV0FBVyxDQUFDLEdBQUcsTUFBTSxDQUFDLFdBQVcsQ0FBQyxDQUFDO0FBQ3BELENBQUM7QUFxRXlFLHdCQUFNO0FBOURoRixTQUFTLGVBQWUsQ0FBQyxNQUFXLEVBQUUsV0FBbUI7SUFDdkQsSUFBSSxDQUFDLE1BQU0sQ0FBQyxlQUFlLEVBQUU7UUFDM0IsTUFBTSxDQUFDLGlCQUFpQixDQUFDLEdBQUcsRUFBRSxDQUFDO0tBQ2hDO0lBQ0QsTUFBTSxDQUFDLGVBQWUsa0JBQU8sTUFBTSxDQUFDLGVBQWUsR0FBRSxXQUFXLEVBQUMsQ0FBQztBQUNwRSxDQUFDO0FBeURpQywwQ0FBZTtBQW5EakQsU0FBUyxTQUFTLENBQUMsTUFBVyxFQUFFLFdBQW1CO0lBQ2pELElBQUksQ0FBQyxNQUFNLENBQUMsU0FBUyxFQUFFO1FBQ3JCLE1BQU0sQ0FBQyxXQUFXLENBQUMsR0FBRyxFQUFFLENBQUM7S0FDMUI7SUFDRCxNQUFNLENBQUMsU0FBUyxrQkFBTyxNQUFNLENBQUMsU0FBUyxHQUFFLFdBQVcsRUFBQyxDQUFDO0FBQ3hELENBQUM7QUE4Q2tELDhCQUFTO0FBdkM1RCxTQUFTLFNBQVMsQ0FBQyxlQUF1QjtJQUN4QyxPQUFPLFVBQVUsTUFBVyxFQUFFLFdBQW1CO1FBQy9DLElBQUksQ0FBQyxNQUFNLENBQUMsU0FBUyxFQUFFO1lBQ3JCLE1BQU0sQ0FBQyxXQUFXLENBQUMsR0FBRyxFQUFFLENBQUM7U0FDMUI7UUFDRCxNQUFNLENBQUMsU0FBUyxDQUFDLGVBQWUsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxXQUFXLENBQUMsQ0FBQztJQUMxRCxDQUFDLENBQUM7QUFDSixDQUFDO0FBZ0NpRiw4QkFBUztBQXpCM0YsU0FBUyxTQUFTLENBQUMsTUFBVyxFQUFFLFdBQW1CO0lBQ2pELElBQUksQ0FBQyxNQUFNLENBQUMsU0FBUyxFQUFFO1FBQ3JCLE1BQU0sQ0FBQyxXQUFXLENBQUMsR0FBRyxFQUFFLENBQUM7S0FDMUI7SUFDRCxJQUFJLFdBQVcsS0FBSyxTQUFTLEVBQUU7UUFDN0IsSUFBTSxVQUFVLEdBQUcsTUFBTSxDQUFDLE9BQU8sQ0FBQyxRQUFRLEVBQUUsQ0FBQztRQUM3QyxJQUFJLFVBQVUsSUFBSSxVQUFVLENBQUMsT0FBTyxDQUFDLHdCQUF3QixDQUFDLEtBQUssQ0FBQyxDQUFDLElBQUksVUFBVSxDQUFDLE9BQU8sQ0FBQyxxQ0FBcUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUFFO1lBQ3pJLE1BQU0sSUFBSSxLQUFLLENBQUMsMkRBQTJELENBQUMsQ0FBQztTQUM5RTtLQUNGO0lBQ0QsTUFBTSxDQUFDLFNBQVMsQ0FBQyxXQUFXLENBQUMsR0FBRyxNQUFNLENBQUMsV0FBVyxDQUFDLENBQUM7QUFDdEQsQ0FBQztBQWM0Riw4QkFBUztBQU50RyxTQUFTLGFBQWEsQ0FBQyxNQUFXLEVBQUUsV0FBbUI7SUFDckQsSUFBSSxDQUFDLE1BQU0sQ0FBQyxhQUFhLEVBQUU7UUFDekIsTUFBTSxDQUFDLGVBQWUsQ0FBQyxHQUFHLEVBQUUsQ0FBQztLQUM5QjtJQUNELE1BQU0sQ0FBQyxhQUFhLENBQUMsV0FBVyxDQUFDLEdBQUcsTUFBTSxDQUFDLFdBQVcsQ0FBQyxDQUFDO0FBQzFELENBQUM7QUFDdUcsc0NBQWEiLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuICogQEF1dGhvcjog44GEIOeLguWllOeahOicl+eJm1xuICogQERhdGU6IDIwMjEtMDUtMDYgMDA6MDQ6MjFcbiAqIEBMYXN0RWRpdFRpbWU6IDIwMjEtMDUtMTIgMTA6NDY6MjBcbiAqIEBEZXNjcmlwdGlvbjrnu4Tku7boo4XppbDlmahcbiAqL1xuXG4vKipcbiAqIEBkZXNjcmlwdGlvbjog5aOw5piO57uE5Lu2XG4gKiBAcGFyYW0ge2FueX0gVGFyZ2V0XG4gKiBAcmV0dXJuIHsqfVxuICovXG5mdW5jdGlvbiBDb21wb25lbnRzKFRhcmdldDogYW55KSB7XG4gIGNvbnN0IHRhcmdldCA9IG5ldyBUYXJnZXQoKTtcbiAgLy8g5aSE55CG57uE5Lu25bGe5oCnXG4gIHRhcmdldC5fX3Byb3RvX18uX19wcm90b19fLl9pbml0LmNhbGwodGFyZ2V0KTtcbiAgQ29tcG9uZW50KHRhcmdldCk7XG59XG4vKipcbiAqIEBkZXNjcmlwdGlvbjog5a6a5LmJ57uE5Lu25bGe5oCnXG4gKiBAcGFyYW0ge2FueX0gdGFyZ2V0XG4gKiBAcGFyYW0ge3N0cmluZ30gcHJvcGVydHlLZXlcbiAqIEByZXR1cm4geyp9XG4gKi9cbmZ1bmN0aW9uIFByb3AodGFyZ2V0OiBhbnksIHByb3BlcnR5S2V5OiBzdHJpbmcpIHtcbiAgaWYgKCF0YXJnZXQucHJvcGVydGllcykge1xuICAgIHRhcmdldFsncHJvcGVydGllcyddID0ge307XG4gIH1cbiAgdGFyZ2V0LnByb3BlcnRpZXNbcHJvcGVydHlLZXldID0ge1xuICAgIHR5cGU6IE9iamVjdCxcbiAgICB2YWx1ZTogbnVsbFxuICB9O1xufVxuLyoqXG4gKiBAZGVzY3JpcHRpb246ICDlrprkuYlkYXRh5pWw5o2uXG4gKiBAcGFyYW0ge2FueX0gdGFyZ2V0XG4gKiBAcGFyYW0ge3N0cmluZ30gcHJvcGVydHlLZXlcbiAqIEByZXR1cm4geyp9XG4gKi9cbmZ1bmN0aW9uIERhdGEodGFyZ2V0OiBhbnksIHByb3BlcnR5S2V5OiBzdHJpbmcpIHtcbiAgaWYgKCF0YXJnZXQuZGF0YSkge1xuICAgIHRhcmdldFsnZGF0YSddID0ge307XG4gIH1cbiAgdGFyZ2V0LmRhdGFbcHJvcGVydHlLZXldID0gbnVsbDtcbn1cbi8qKlxuICogQGRlc2NyaXB0aW9uOiDlrprkuYnmlrnms5VcbiAqIEBwYXJhbSB7YW55fSB0YXJnZXRcbiAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wZXJ0eUtleVxuICogQHJldHVybiB7Kn1cbiAqL1xuZnVuY3Rpb24gTWV0aG9kKHRhcmdldDogYW55LCBwcm9wZXJ0eUtleTogc3RyaW5nKSB7XG4gIGlmICghdGFyZ2V0Lm1ldGhvZHMpIHtcbiAgICB0YXJnZXRbJ21ldGhvZHMnXSA9IHt9O1xuICB9XG4gIHRhcmdldC5tZXRob2RzW3Byb3BlcnR5S2V5XSA9IHRhcmdldFtwcm9wZXJ0eUtleV07XG59XG4vKipcbiAqIEBkZXNjcmlwdGlvbjog5a+55aSW5pq06ZyyY3Nz5omp5bGVXG4gKiBAcGFyYW0ge2FueX0gdGFyZ2V0XG4gKiBAcGFyYW0ge3N0cmluZ30gcHJvcGVydHlLZXlcbiAqIEByZXR1cm4geyp9XG4gKi9cbmZ1bmN0aW9uIEV4dGVybmFsQ2xhc3Nlcyh0YXJnZXQ6IGFueSwgcHJvcGVydHlLZXk6IHN0cmluZykge1xuICBpZiAoIXRhcmdldC5leHRlcm5hbENsYXNzZXMpIHtcbiAgICB0YXJnZXRbJ2V4dGVybmFsQ2xhc3NlcyddID0gW107XG4gIH1cbiAgdGFyZ2V0LmV4dGVybmFsQ2xhc3NlcyA9IFsuLi50YXJnZXQuZXh0ZXJuYWxDbGFzc2VzLCBwcm9wZXJ0eUtleV07XG59XG4vKipcbiAqIOe7hOS7tumAu+i+keWkjeeUqFxuICogQHBhcmFtIHRhcmdldFxuICogQHBhcmFtIHByb3BlcnR5S2V5XG4gKi9cbmZ1bmN0aW9uIEJlaGF2aW9ycyh0YXJnZXQ6IGFueSwgcHJvcGVydHlLZXk6IHN0cmluZykge1xuICBpZiAoIXRhcmdldC5iZWhhdmlvcnMpIHtcbiAgICB0YXJnZXRbJ2JlaGF2aW9ycyddID0gW107XG4gIH1cbiAgdGFyZ2V0LmJlaGF2aW9ycyA9IFsuLi50YXJnZXQuYmVoYXZpb3JzLCBwcm9wZXJ0eUtleV07XG59XG5cbi8qKlxuICogQGRlc2NyaXB0aW9uOiDnm5HlkKzlsZ7mgKflgLznmoTmm7TmlLlcbiAqIEBwYXJhbSB7c3RyaW5nfSBtb25pdG9yZWRPYmplY3RcbiAqIEByZXR1cm4geyp9XG4gKi9cbmZ1bmN0aW9uIE9ic2VydmVycyhtb25pdG9yZWRPYmplY3Q6IHN0cmluZykge1xuICByZXR1cm4gZnVuY3Rpb24gKHRhcmdldDogYW55LCBwcm9wZXJ0eUtleTogc3RyaW5nKSB7XG4gICAgaWYgKCF0YXJnZXQub2JzZXJ2ZXJzKSB7XG4gICAgICB0YXJnZXRbJ29ic2VydmVycyddID0ge307XG4gICAgfVxuICAgIHRhcmdldC5vYnNlcnZlcnNbbW9uaXRvcmVkT2JqZWN0XSA9IHRhcmdldFtwcm9wZXJ0eUtleV07XG4gIH07XG59XG4vKipcbiAqIEBkZXNjcmlwdGlvbjogIOe7hOS7tueUn+WRveWRqOacn1xuICogQHBhcmFtIHthbnl9IHRhcmdldFxuICogQHBhcmFtIHtzdHJpbmd9IHByb3BlcnR5S2V5XG4gKiBAcmV0dXJuIHsqfVxuICovXG5mdW5jdGlvbiBMaWZldGltZXModGFyZ2V0OiBhbnksIHByb3BlcnR5S2V5OiBzdHJpbmcpIHtcbiAgaWYgKCF0YXJnZXQubGlmZXRpbWVzKSB7XG4gICAgdGFyZ2V0WydsaWZldGltZXMnXSA9IHt9O1xuICB9XG4gIGlmIChwcm9wZXJ0eUtleSA9PT0gJ2NyZWF0ZWQnKSB7XG4gICAgY29uc3QgY3JlYXRlZFN0ciA9IHRhcmdldC5jcmVhdGVkLnRvU3RyaW5nKCk7XG4gICAgaWYgKGNyZWF0ZWRTdHIgJiYgY3JlYXRlZFN0ci5pbmRleE9mKCdPYmplY3Qua2V5cyh0aGlzLmRhdGEpJykgPT09IC0xICYmIGNyZWF0ZWRTdHIuaW5kZXhPZignX3N1cGVyLnByb3RvdHlwZS5jcmVhdGVkLmNhbGwodGhpcyknKSA9PT0gLTEpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcign5a2Q57G75aSN5YaZQExpZmV0aW1lcyBwdWJsaWMgY3JlYXRlZCgp5pa55byP5pe277yM5b+F6aG76LCD55Soc3VwZXIuY3JlYXRlZCgpO+aWueazlScpO1xuICAgIH1cbiAgfVxuICB0YXJnZXQubGlmZXRpbWVzW3Byb3BlcnR5S2V5XSA9IHRhcmdldFtwcm9wZXJ0eUtleV07XG59XG5cbi8qKlxuICogQGRlc2NyaXB0aW9uOiAg6aG16Z2i55Sf5ZG95ZGo5pyfXG4gKiBAcGFyYW0ge2FueX0gdGFyZ2V0XG4gKiBAcGFyYW0ge3N0cmluZ30gcHJvcGVydHlLZXlcbiAqIEByZXR1cm4geyp9XG4gKi9cbmZ1bmN0aW9uIFBhZ2VMaWZldGltZXModGFyZ2V0OiBhbnksIHByb3BlcnR5S2V5OiBzdHJpbmcpIHtcbiAgaWYgKCF0YXJnZXQucGFnZUxpZmV0aW1lcykge1xuICAgIHRhcmdldFsncGFnZUxpZmV0aW1lcyddID0ge307XG4gIH1cbiAgdGFyZ2V0LnBhZ2VMaWZldGltZXNbcHJvcGVydHlLZXldID0gdGFyZ2V0W3Byb3BlcnR5S2V5XTtcbn1cbmV4cG9ydCB7IENvbXBvbmVudHMgYXMgQ29tcG9uZW50LCBFeHRlcm5hbENsYXNzZXMsIEJlaGF2aW9ycywgUHJvcCwgRGF0YSwgTWV0aG9kLCBPYnNlcnZlcnMsIExpZmV0aW1lcywgUGFnZUxpZmV0aW1lcyB9O1xuIl19